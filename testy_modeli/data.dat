# =========================
# SETS
# =========================
set T := 1 2 3 4 5 6 7;
set Thist := -3 -2 -1 0;

set D := D1 D2;
set B := B1 B2 B3;
set L := 1 2 3 4 5 6;

# =========================
# PARAMETERS
# =========================
param alpha := 0.04;

# --- Warehouse capacities
param Vmax :=
B1 120
B2 100
B3 90;

# --- Initial inventories
param I0 :=
B1 25
B2 15
B3 10;

# --- Daily demand
param Demand :=
[B1,1] 18   [B1,2] 14   [B1,3] 16   [B1,4] 15   [B1,5] 17   [B1,6] 18   [B1,7] 19
[B2,1] 10   [B2,2] 12   [B2,3] 11   [B2,4] 13   [B2,5] 12   [B2,6] 14   [B2,7] 13
[B3,1] 8    [B3,2] 9    [B3,3] 10   [B3,4] 9    [B3,5] 11   [B3,6] 10   [B3,7] 12;

# --- Discount thresholds
param Q :=
1 10
2 20
3 30
4 40
5 50
6 60;

param Smax := 150;

# --- Supplier availability
param S :=
[D1,1] 90   [D1,2] 90   [D1,3] 90   [D1,4] 90   [D1,5] 90   [D1,6] 90   [D1,7] 90
[D2,1] 70   [D2,2] 70   [D2,3] 70   [D2,4] 70   [D2,5] 70   [D2,6] 70   [D2,7] 70;

# --- Lead times
param LeadTime :=
[D1,B1] 1   [D1,B2] 2   [D1,B3] 1
[D2,B1] 2   [D2,B2] 1   [D2,B3] 2;

# --- Fixed ordering costs
param Cfix :=
[D1,B1] 45   [D1,B2] 40   [D1,B3] 35
[D2,B1] 50   [D2,B2] 38   [D2,B3] 42;

# --- Prices (supplier, day, discount level)
param P :=
# D1
[D1,1,1] 12.5   [D1,1,2] 12.0   [D1,1,3] 11.5   [D1,1,4] 11.0   [D1,1,5] 10.5   [D1,1,6] 10.0
[D1,2,1] 12.4   [D1,2,2] 11.9   [D1,2,3] 11.4   [D1,2,4] 11.0   [D1,2,5] 10.6   [D1,2,6] 10.2
[D1,3,1] 12.6   [D1,3,2] 12.1   [D1,3,3] 11.6   [D1,3,4] 11.2   [D1,3,5] 10.8   [D1,3,6] 10.4
[D1,4,1] 12.7   [D1,4,2] 12.2   [D1,4,3] 11.7   [D1,4,4] 11.3   [D1,4,5] 10.9   [D1,4,6] 10.5
[D1,5,1] 12.8   [D1,5,2] 12.3   [D1,5,3] 11.8   [D1,5,4] 11.4   [D1,5,5] 11.0   [D1,5,6] 10.6
[D1,6,1] 12.9   [D1,6,2] 12.4   [D1,6,3] 11.9   [D1,6,4] 11.5   [D1,6,5] 11.1   [D1,6,6] 10.7
[D1,7,1] 13.0   [D1,7,2] 12.5   [D1,7,3] 12.0   [D1,7,4] 11.6   [D1,7,5] 11.2   [D1,7,6] 10.8

# D2
[D2,1,1] 12.0   [D2,1,2] 11.5   [D2,1,3] 11.0   [D2,1,4] 10.6   [D2,1,5] 10.2   [D2,1,6] 9.8
[D2,2,1] 11.9   [D2,2,2] 11.4   [D2,2,3] 10.9   [D2,2,4] 10.5   [D2,2,5] 10.1   [D2,2,6] 9.7
[D2,3,1] 12.1   [D2,3,2] 11.6   [D2,3,3] 11.1   [D2,3,4] 10.7   [D2,3,5] 10.3   [D2,3,6] 9.9
[D2,4,1] 12.2   [D2,4,2] 11.7   [D2,4,3] 11.2   [D2,4,4] 10.8   [D2,4,5] 10.4   [D2,4,6] 10.0
[D2,5,1] 12.3   [D2,5,2] 11.3   [D2,5,3] 10.8   [D2,5,4] 10.4   [D2,5,5] 10.0   [D2,5,6] 9.6
[D2,6,1] 12.4   [D2,6,2] 11.4   [D2,6,3] 10.9   [D2,6,4] 10.5   [D2,6,5] 10.1   [D2,6,6] 9.7
[D2,7,1] 12.5   [D2,7,2] 11.5   [D2,7,3] 11.0   [D2,7,4] 10.6   [D2,7,5] 10.2   [D2,7,6] 9.8;

# =========================
# HISTORICAL ORDERS
# =========================
param x0 :=
# D1,B1
[D1,B1,-3,1] 10  [D1,B1,-3,2] 0  [D1,B1,-3,3] 0  [D1,B1,-3,4] 0  [D1,B1,-3,5] 0  [D1,B1,-3,6] 0
[D1,B1,-2,1] 15  [D1,B1,-2,2] 0  [D1,B1,-2,3] 0  [D1,B1,-2,4] 0  [D1,B1,-2,5] 0  [D1,B1,-2,6] 0
[D1,B1,-1,1] 0   [D1,B1,-1,2] 20 [D1,B1,-1,3] 0  [D1,B1,-1,4] 0  [D1,B1,-1,5] 0  [D1,B1,-1,6] 0
[D1,B1,0,1]  0   [D1,B1,0,2] 0  [D1,B1,0,3] 0  [D1,B1,0,4] 0  [D1,B1,0,5] 0  [D1,B1,0,6] 0

# D1,B2
[D1,B2,-3,1] 0   [D1,B2,-3,2] 0  [D1,B2,-3,3] 0  [D1,B2,-3,4] 0  [D1,B2,-3,5] 0  [D1,B2,-3,6] 0
[D1,B2,-2,1] 30  [D1,B2,-2,2] 0 [D1,B2,-2,3] 0  [D1,B2,-2,4] 0 [D1,B2,-2,5] 0 [D1,B2,-2,6] 0
[D1,B2,-1,1] 0   [D1,B2,-1,2] 0 [D1,B2,-1,3] 0  [D1,B2,-1,4] 0 [D1,B2,-1,5] 0 [D1,B2,-1,6] 0
[D1,B2,0,1]  0   [D1,B2,0,2] 0 [D1,B2,0,3] 0  [D1,B2,0,4] 0 [D1,B2,0,5] 0 [D1,B2,0,6] 0

# D2,B3
[D2,B3,-3,1] 5   [D2,B3,-3,2] 0  [D2,B3,-3,3] 0  [D2,B3,-3,4] 0 [D2,B3,-3,5] 0 [D2,B3,-3,6] 0
[D2,B3,-2,1] 25  [D2,B3,-2,2] 0 [D2,B3,-2,3] 0 [D2,B3,-2,4] 0 [D2,B3,-2,5] 0 [D2,B3,-2,6] 0
[D2,B3,-1,1] 0   [D2,B3,-1,2] 0 [D2,B3,-1,3] 0 [D2,B3,-1,4] 0 [D2,B3,-1,5] 0 [D2,B3,-1,6] 0
[D2,B3,0,1]  0   [D2,B3,0,2] 0 [D2,B3,0,3] 0 [D2,B3,0,4] 0 [D2,B3,0,5] 0 [D2,B3,0,6] 0;
